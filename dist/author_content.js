(()=>{"use strict";var t={521:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const c=a(n(613));let l,u,s;window.addEventListener("load",(()=>{var t,e;l=JSON.parse(localStorage.getItem("navigationType")||"null");const n=null===(e=null===(t=document.getElementById("gsc_prf_in"))||void 0===t?void 0:t.textContent)||void 0===e?void 0:e.trim();l===c.NavigationPath.AuthorDetail&&(u=JSON.parse(localStorage.getItem("targetPaper")||""),s={eventType:"author-detail",targetPaper:u,authorName:null!=n?n:"",pagination:1}),l===c.NavigationPath.AuthorProfile&&(s={eventType:"author-profile",authorName:null!=n?n:"",pagination:1}),f()}));const d=document.getElementById("gsc_bpf_more");function f(){const t=[],e=document.getElementById("gsc_a_b");e&&(e.querySelectorAll("tr.gsc_a_tr").forEach((e=>{const n={title:e.querySelector("td.gsc_a_t a").textContent.trim(),authorNames:e.querySelector("td.gsc_a_t div.gs_gray").textContent.trim().replace(/\.{3}\s*$/,"").split(",").map((t=>t.trim()))};t.push(n)})),function(t,e){const n={context:t,result:e};var r;console.log(n),chrome.storage.local.set({SearchEvent:JSON.stringify(n)}),r=n,chrome.runtime.sendMessage({type:"SearchEventChange",event:r},(t=>{}))}(s,{paperEntries:t}))}d&&d.addEventListener("click",(function(){setTimeout(f,1500)})),document.addEventListener("click",(function(t){const e=t.target.closest(".gs_ai_name a");var n;e&&e.getAttribute("href")&&(t.preventDefault(),n=e.getAttribute("href")||"",function(t){i(this,void 0,void 0,(function*(){localStorage.setItem("navigationType",JSON.stringify(t))}))}(c.NavigationPath.AuthorProfile),window.location.href=n)}))},613:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.NavigationPath=void 0,function(t){t.KeywordSearch="keywordSearch",t.AuthorDetail="authorElement",t.AuthorProfile="profileElement",t.CitedBy="citedByAnchor",t.Related="relatedArticleAnchor"}(n||(e.NavigationPath=n={}))}},e={};!function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}(521)})();